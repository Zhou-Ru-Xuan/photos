<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1352" height="185" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.117 Safari/537.36&quot; version=&quot;7.9.5&quot; editor=&quot;www.draw.io&quot;&gt;&lt;diagram id=&quot;eb387bf4-740f-2b70-8edc-0883644d0325&quot; name=&quot;第 1 页&quot;&gt;7Vxdb6M4FP01PE5kYz4fkzSdfdiRVupKu/vIECdhSnAETpPOr18DNol986WIkEqQh4pewDH3HPseH9xaZLref8+jzeoHm9PUstF8b5EXy7ZDF4mfZeCzDnjEqQPLPJnXIXwIvCW/qQzK+5bbZE4L7ULOWMqTjR6MWZbRmGuxKM/ZTr9swVL9WzfRkoLAWxylMPpPMuerOhrY/iH+B02WK/XN2AvrMz+j+H2Zs20mv8+yyaL61KfXkWpLPmixiuZsdxQiM4tMc8Z4fbTeT2laplalrb7v9czZpt85zfgtNwSyG/xTPXrVeVqeRhaZrPg6FYdYHNJ9wv89Ov6vvGTkit/mUbGq7ihPFTzK+bjEQAQyllEVe03SVLZKs7m6Ik6jokjiOigvKZv5RTn/lMSItpyJEMv5ii1ZFqV/MraR1y1YxqcsZXnVe4KqT/WVOXunR2em1ac5o2AVGZ/ApMk8FmybxzIvtqRhlC+pvMqtQ3SukUkm+jtla8rzT3FBTtOIJx86tyJJ0WVzXXPrXywRHbGRHE2ESLLIwWT7RG+i7pO86wC2ODjqxiFUUeA0HeRDfkTpVvZ2ytablPLoZ0pft3yb0yuE2a0STt82UZW2nZgcdBLpsDT0OEakQlUQ4Qi7V/GpsDuHdpQmy6xkk0CQ5mWTalzhS/h+0JzT/UXs1FnX0zFwZBO7w/SA1aBeHU0NHjoPtwbUBVRcgMoKoCDuEJMjvY5AVGzqGXOR7EvUJjp+9wE0nZYQPRMgQnwdIOIBgPwT+Pgt4OMBfAZ4DHgcz3saPD6AJx7wuTJ8sKo5HeCDCQBICIb4HYAknoXraOS0SH6XtUmmf1PWwKor7sRyX8rMCe1Q1DICHyUypYuyqTJBiZB9Yxnmpa6YFAL9JFv+XYmMb84FXFrIvB3aRmUJQeadE5m3W8h8gEGOz8q/Xog8F4o8rxuR53jYEHneTSIPNoSMQug7ekP187ahFgMy0Eejjw/p09EawQlCHXWE7qSPudgwG2qRPg6Y97Nyhu/FtE8CI88YFtyHTftwQdGfxDvY0RPvwpXcwxIPVwp4FI+q5JMXuKj7MgD4s7E3a0vwIJ352HUBAKekZisA+LdXrJ77XUEAi1mIu6lmvmeMUVPDtOd4qcccLC9znLqhUaG6tLyUnBk8rwsI+b6xZujQVFHkGEyv8/iERqXrFB8M8Blcr2sDqEvXS9k+/XS9fNvwg93ulj/hYFsYUi88IfVQN1IvCF1D6vk3ST3YkGMaaK7eUHvGRegMBNIIpIrNMYEUqR5NoNAmOu4I30kgc9FhNtQigfpswASmAYO7M2BCaMD0KPFOYNRcu7vEw5ew9qjWO2Ke+7r5b9P4ajbBPcH4CoeNXjcXsxNqCKOO5BDGvjE7erfpoXuqEPRYButLwf1E76sh2+CtXIAIB4be79BcwQi6K4M9CSAi+Hn+F0bQXxkMsKsQdbrvC/V64xfGxNxTTEDuH6XHMRo8DF32NVVX130dvfEU4870we7cwIObDQ2Nggz0ltrzMbDq9MCihkX2U1lEdDMMh7e9OD/BImMdAlpqk0V9dmVEFTB33DkdlgHoy/Qo9bZrOGIOdGQel3q48yQWDZZprzTQVKwoprE1c62xY02wNQusiWON4Yz7ZbBp0ywTAuW6W4bxw8CB3gjIe+8XD2CvcJfrO/XWYJAejfQ48RauIfLDpYeN7JGLXCEUAjdA6tXCQT2MQkeMYYJ84iBs36lKMPhT2Ie95MWqk/0sjQTs/ntYaRS/Hv7gvUbq8E8FyOx/&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g transform="translate(3,3)"><path d="M 120 141 L 172.76 141" fill="none" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="none"/><path d="M 178.76 141 L 170.76 145 L 172.76 141 L 170.76 137 Z" fill="#cccccc" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="0" y="111" width="120" height="60" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="0" y="111" width="120" height="60" fill="#ffffcc" stroke="none" pointer-events="none"/><g transform="translate(8.5,134.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="102" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 104px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">CompletableFuture</div></div></foreignObject></g><ellipse cx="216" cy="141" rx="35" ry="35" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><ellipse cx="216" cy="141" rx="35" ry="35" fill="#ccffff" stroke="none" pointer-events="none"/><g transform="translate(212.5,134.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 8px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">h</div></div></foreignObject></g><ellipse cx="345" cy="141" rx="35" ry="35" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><ellipse cx="345" cy="141" rx="35" ry="35" fill="#ccffff" stroke="none" pointer-events="none"/><ellipse cx="216" cy="35" rx="35" ry="35" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><ellipse cx="216" cy="35" rx="35" ry="35" fill="#ccffff" stroke="none" pointer-events="none"/><g transform="translate(212.5,28.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 7px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">c</div></div></foreignObject></g><g transform="translate(137.5,121.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="28" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">stack</div></div></foreignObject></g><path d="M 251 141 L 301.76 141" fill="none" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="none"/><path d="M 307.76 141 L 299.76 145 L 301.76 141 L 299.76 137 Z" fill="#cccccc" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 216 70 L 216 97.76" fill="none" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="none"/><path d="M 216 103.76 L 212 95.76 L 216 97.76 L 220 95.76 Z" fill="#cccccc" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(225.5,82.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="23" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">next</div></div></foreignObject></g><g transform="translate(259.5,123.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="23" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">next</div></div></foreignObject></g><g transform="translate(45.5,27.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="56" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(126, 166, 224); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">1.c.next=h</div></div></foreignObject></g><path d="M 554 141 L 620.98 67.05" fill="none" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="none"/><path d="M 625 62.6 L 622.6 71.21 L 620.98 67.05 L 616.67 65.84 Z" fill="#cccccc" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="434" y="111" width="120" height="60" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="434" y="111" width="120" height="60" fill="#ffffcc" stroke="none" pointer-events="none"/><g transform="translate(442.5,134.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="102" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 104px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">CompletableFuture</div></div></foreignObject></g><ellipse cx="650" cy="141" rx="35" ry="35" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><ellipse cx="650" cy="141" rx="35" ry="35" fill="#ccffff" stroke="none" pointer-events="none"/><g transform="translate(646.5,134.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 8px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">h</div></div></foreignObject></g><ellipse cx="779" cy="141" rx="35" ry="35" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><ellipse cx="779" cy="141" rx="35" ry="35" fill="#ccffff" stroke="none" pointer-events="none"/><ellipse cx="650" cy="35" rx="35" ry="35" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><ellipse cx="650" cy="35" rx="35" ry="35" fill="#ccffff" stroke="none" pointer-events="none"/><g transform="translate(646.5,28.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 7px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">c</div></div></foreignObject></g><g transform="translate(571.5,122.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="28" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">stack</div></div></foreignObject></g><path d="M 685 141 L 735.76 141" fill="none" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="none"/><path d="M 741.76 141 L 733.76 145 L 735.76 141 L 733.76 137 Z" fill="#cccccc" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 650 70 L 650 97.76" fill="none" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="none"/><path d="M 650 103.76 L 646 95.76 L 650 97.76 L 654 95.76 Z" fill="#cccccc" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(659.5,83.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="23" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">next</div></div></foreignObject></g><g transform="translate(693.5,124.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="23" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">next</div></div></foreignObject></g><g transform="translate(479.5,27.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="51" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(126, 166, 224); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">2.stack=c</div></div></foreignObject></g><path d="M 964 141 L 1016.76 141" fill="none" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="none"/><path d="M 1022.76 141 L 1014.76 145 L 1016.76 141 L 1014.76 137 Z" fill="#cccccc" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="844" y="111" width="120" height="60" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><rect x="844" y="111" width="120" height="60" fill="#ffffcc" stroke="none" pointer-events="none"/><g transform="translate(852.5,134.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="102" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 104px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">CompletableFuture</div></div></foreignObject></g><ellipse cx="1060" cy="141" rx="35" ry="35" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><ellipse cx="1060" cy="141" rx="35" ry="35" fill="#ccffff" stroke="none" pointer-events="none"/><ellipse cx="1189" cy="141" rx="35" ry="35" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><ellipse cx="1189" cy="141" rx="35" ry="35" fill="#ccffff" stroke="none" pointer-events="none"/><g transform="translate(1185.5,134.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 8px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">h</div></div></foreignObject></g><ellipse cx="1189" cy="35" rx="35" ry="35" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><ellipse cx="1189" cy="35" rx="35" ry="35" fill="#ccffff" stroke="none" pointer-events="none"/><g transform="translate(1185.5,28.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 7px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">c</div></div></foreignObject></g><g transform="translate(981.5,115.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="28" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">stack</div></div></foreignObject></g><path d="M 1095 141 L 1145.76 141" fill="none" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="none"/><path d="M 1151.76 141 L 1143.76 145 L 1145.76 141 L 1143.76 137 Z" fill="#cccccc" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 1189 70 L 1189 97.76" fill="none" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="none"/><path d="M 1189 103.76 L 1185 95.76 L 1189 97.76 L 1193 95.76 Z" fill="#cccccc" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(1205.5,76.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="23" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">next</div></div></foreignObject></g><g transform="translate(1103.5,117.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="23" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">next</div></div></foreignObject></g><g transform="translate(889.5,27.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="93" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(126, 166, 224); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">cas stack,h,c失败</div></div></foreignObject></g><ellipse cx="1309" cy="141" rx="35" ry="35" fill="#000000" stroke="none" transform="translate(2,3)" opacity="0.25"/><ellipse cx="1309" cy="141" rx="35" ry="35" fill="#ccffff" stroke="none" pointer-events="none"/><path d="M 1224 141 L 1265.76 141" fill="none" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="6 6" pointer-events="none"/><path d="M 1271.76 141 L 1263.76 145 L 1265.76 141 L 1263.76 137 Z" fill="#cccccc" stroke="#cccccc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(1235.5,117.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="23" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">next</div></div></foreignObject></g></g></svg>